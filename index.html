<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Jerusalem Hills offers the best of Jerusalem's nature, culture, history, and unique products from the hills of Jerusalem. Explore our marketplace for authentic Jerusalem experiences and gifts.">
    <meta name="keywords" content="Jerusalem Hills, Jerusalem heritage, Jerusalem tourism, Jerusalem history, Jerusalem hiking, Dead Sea products, Jerusalem crafts, Jerusalem marketplace, Jerusalem gifts, Jerusalem wellness, Jerusalem cultural tours, Jerusalem souvenirs">
    <meta name="author" content="Jerusalem Hills">
    <meta property="og:title" content="Jerusalem Hills - Explore Jerusalem, Discover Unique Gifts & Products">
    <meta property="og:description" content="Explore Jerusalem's rich heritage, nature, and unique products. Visit Jerusalem Hills for authentic gifts and experiences.">
    <meta property="og:image" content="https://www.jerusalemhills.com/images/jerusalem-hills-hero.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Jerusalem Hills - Explore Jerusalem, Discover Unique Gifts & Products">
    <meta name="twitter:description" content="Explore Jerusalem's rich heritage, nature, and unique products. Visit Jerusalem Hills for authentic gifts and experiences.">
    <meta name="twitter:image" content="https://www.jerusalemhills.com/images/jerusalem-hills-hero.jpg">
    <title>Jerusalem Hills - Explore Jerusalem, Discover Unique Gifts & Products</title>
    
    <link rel="stylesheet" href="styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

    <!-- Android Chrome Icons -->
    <link rel="icon" href="/img/android-chrome-192x192.png" sizes="192x192" type="image/png">
    <link rel="icon" href="/img/android-chrome-512x512.png" sizes="512x512" type="image/png">

    <!-- Web Manifest -->
    <link rel="manifest" href="/img/site.webmanifest">
    
    <!-- Updated Ticker Style and Hebrew Date styling -->
    <style>
      /* Updated ticker styling to override the default behavior */
      .ticker-content {
        display: inline-block;
        padding-right: 100%;
        /* Remove default animation - we'll control it with JS */
        animation: none;
        transition: transform 0.5s ease-in-out;
      }
      
      .ticker-item {
        display: inline-block;
        margin-right: 20px;
        font-size: 14px;
        padding: 5px 10px;
        border-right: 1px solid #eee;
      }
      
      /* No longer needed as we control animation with JS */
      @keyframes ticker {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); }
      }

      /* Cart button next to search bar styling */
      .search-bar-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px 0;
        position: relative;
      }
      
      .cart-button {
        background: none;
        border: none;
        cursor: pointer;
        margin-left: 10px;
      }
      
      .cart-button img {
        width: 30px;
        height: 30px;
      }

      /* Updated Hebrew Date styling */
      .hebrew-date-container {
        position: absolute;
        top: 10px;
        right: 20px;
        z-index: 10;
        width: 200px;
        height: 120px; /* Adjusted for iframe height */
        overflow: hidden;
      }
      
      .hebrew-date-container iframe {
        border: none;
        width: 100%;
        height: 100%;
        box-shadow: 0 1px 3px rgba(0,0,0,0.15);
        border-radius: 5px;
      }

      .hebrew-date {
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 12px;
        font-family: Arial, sans-serif;
        background-color: rgba(255, 255, 255, 0.85);
        padding: 6px 10px;
        border-radius: 5px;
        color: #333;
        z-index: 10;
        white-space: pre-line;
        box-shadow: 0 1px 3px rgba(0,0,0,0.15);
        text-align: right;
        min-width: 200px;
      }
      
      .hebrew-date .jerusalem-time {
        font-size: 14px;
        font-weight: bold;
      }
      
      .hebrew-date .hebrew-date-text {
        font-weight: bold;
        color: #0078d4;
        margin: 3px 0;
      }
      
      .hebrew-date .greg-date {
        font-size: 11px;
        color: #666;
      }

      /* Video Slider Styles */
      .video-slider-section {
        width: 100vw;
        max-width: 100%;
        position: relative;
        left: 50%;
        right: 50%;
        margin-left: -50vw;
        margin-right: -50vw;
        padding: 20px 0;
        box-sizing: border-box;
        overflow: visible;
      }

      .slider-wrapper {
        max-width: 1600px;
        width: 90vw;
        margin: 0 auto;
        position: relative;
      }

      .slider-container {
        position: relative;
        width: 100%;
        margin: 0 auto;
        overflow: visible;
      }

      .slider {
        display: flex;
        gap: 20px;
        width: max-content;
      }

      .slider-item {
        width: calc((90vw - 120px) / 3);
        max-width: 500px;
        min-width: 280px;
        flex: 0 0 auto;
      }

      .slider-item iframe {
        width: 100%;
        aspect-ratio: 16/9;
      }

      .slider-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 40px;
        height: 40px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        font-size: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
      }

      .prev-btn {
        left: -5px; /* Adjust button position */
      }

      .next-btn {
        right: -5px; /* Adjust button position */
      }

      @media (max-width: 1200px) {
        .slider-item {
          width: calc((100vw - 100px) / 2);
        }
      }

      @media (max-width: 768px) {
        .slider-item {
          width: calc(100vw - 80px);
        }
        
        .slider-container {
          width: calc(100% - 20px);
          padding: 0 10px;
        }
      }
    </style>
    
    <!-- Hebcal JavaScript API -->
    <script src="https://download.hebcal.com/hebcal-js/hebcal-8.min.js"></script>
  </head>
    
  <body>
    <!-- Header Section -->
    <header>
      <div class="left-header">
        <img src="img/1.svg" alt="Jerusalem Hills Logo - Connecting you to the heart of Jerusalem" class="logo">
      </div>
      
      <!-- Search Bar with Cart Button -->
      <div class="search-bar-container">
        <input type="text" class="search-bar" placeholder="Search for Jerusalem gifts, tours, and more...">
        <a href="/cart" class="cart-button">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 18C5.9 18 5.01 18.9 5.01 20C5.01 21.1 5.9 22 7 22C8.1 22 9 21.1 9 20C9 18.9 8.1 18 7 18ZM17 18C15.9 18 15.01 18.9 15.01 20C15.01 21.1 15.9 22 17 22C18.1 22 19 21.1 19 20C19 18.9 18.1 18 17 18ZM7.17 14.75L7.2 14.63L8.1 13H15.55C16.3 13 16.96 12.59 17.3 11.97L21.16 4.96L19.42 4H19.41L18.31 6L15.55 11H8.53L8.4 10.73L6.16 6L5.21 4L4.27 2H1V4H3L6.6 11.59L5.25 14.04C5.09 14.32 5 14.65 5 15C5 16.1 5.9 17 7 17H19V15H7.42C7.29 15 7.17 14.89 7.17 14.75Z" fill="currentColor"/>
          </svg>
        </a>
      </div>

      <!-- Hebrew Date -->
      <div id="hebrew-date" class="hebrew-date"></div>
      
      <nav>
        <ul>
          <li><a href="/index.html">Home</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/forum/forum.html">Forum</a></li>
          <li><a href="/market/index.html">Marketplace</a></li>
          <li><a href="/account" class="account-link"><img src="/img/account-icon.svg" alt="Account" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 5px;"></a></li>
        </ul>
      </nav>
    </header>

    <!-- TradingView Ticker Widget - Updated for more accurate data -->
    <div class="tradingview-widget-container">
      <div class="tradingview-widget-container__widget"></div>
      <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank"><span class="blue-text">Track all markets on TradingView</span></a></div>
      <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
      {
      "symbols": [
        {
          "proName": "FOREXCOM:SPXUSD",
          "title": "S&P 500 Index"
        },
        {
          "proName": "FOREXCOM:NSXUSD",
          "title": "US 100 Cash CFD"
        },
        {
          "proName": "FX_IDC:EURUSD",
          "title": "EUR to USD"
        },
        {
          "proName": "BITSTAMP:BTCUSD",
          "title": "Bitcoin"
        },
        {
          "proName": "BITSTAMP:ETHUSD",
          "title": "Ethereum"
        },
        {
          "description": "Nasdaq100",
          "proName": "NASDAQ:NDX"
        },
        {
          "description": "Nikkei",
          "proName": "INDEX:NKY"
        },
        {
          "description": "FTSE 100",
          "proName": "FOREXCOM:UKXGBP"
        },
        {
          "description": "Gold",
          "proName": "TVC:GOLD"
        },
        {
          "description": "Crude Oil",
          "proName": "TVC:USOIL"
        }
      ],
      "showSymbolLogo": true,
      "colorTheme": "light",
      "isTransparent": false,
      "displayMode": "adaptive",
      "locale": "en",
      "largeChartUrl": "https://www.tradingview.com/"
      }
      </script>
    </div>
    <!-- TradingView Widget END -->
    
    <!-- News Section -->
    <div class="news">
      <!-- News Ticker -->
      <div class="ticker-tape">
        <div class="ticker-content" id="ticker-content">
        <!-- Dynamic content will be added here -->
        </div>
      </div>
    </div>
    
    <!-- Main Content -->
    <main class="main-content">
      <!-- Video Slider Section -->
      <section class="video-slider-section">
        <h2>Latest Videos from Jerusalem Hills</h2>
        <div class="slider-wrapper">
          <div class="slider-container">
            <div class="slider" id="video-slider">
              <!-- Videos will be dynamically loaded here -->
            </div>
            <button class="slider-btn prev-btn" onclick="moveSlide(-1)">&lt;</button>
            <button class="slider-btn next-btn" onclick="moveSlide(1)">&gt;</button>
          </div>
        </div>
      </section>

      <!-- Forum Section -->
      <section class="forum-section">
        <h2>Jerusalem Hills Forum</h2>
        <p>Join our uncensored, anonymous forum to share thoughts, experiences, and discussions related to Jerusalem and beyond.</p>
        <a href="/forum/forum.html" class="forum-link">Go to Forum</a>
      </section>

      <!-- Marketplace Section -->
      <section class="marketplace-section">
        <h2>Jerusalem Hills Marketplace</h2>
        <p>Explore our curated collection of unique products, from Dead Sea skincare to handmade Jerusalem crafts.</p>
        <a href="/market/index.html" class="marketplace-link">Visit Marketplace</a>
      </section>

      <!-- Ads Section -->
      <section class="ads-section">
        <h2>Sponsored Ads</h2>
        <p>Ad content goes here. Interested in advertising? <a href="/advertise">Learn more</a>.</p>
      </section>
    </main>

    <!-- Games Section -->
    <section class="games-section">
      <h2>Games</h2>
      <p>Challenge your friends or play against our AI in popular games!</p>
      <a href="games/backgammon/backgammon.html" class="game-link">Backgammon</a>
      <a href="#" class="game-link">Chess</a>
      <a href="#" class="game-link">Poker</a>
      <a href="#" class="game-link">Remi</a>
      <a href="#" class="game-link">Ludo</a>
      <a href="games/permutations/permutations.html" class="game-link">צירופים</a>
    </section>

    <!-- Map Section -->
    <section class="map-section">
      <h2>Explore Jerusalem with Our Interactive Map</h2>
      <div id="google-map" style="height: 400px; width: 100%;"></div>
    </section>

    <!-- Footer Section -->
    <footer>
      <p>&copy; 2024 Jerusalem Hills. All rights reserved.</p>
      <ul>
        <li><a href="/privacy-policy.html">Privacy Policy</a></li>
        <li><a href="/terms-of-service.html">Terms of Service</a></li>
      </ul>
    </footer>
    
    <!-- Scripts -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5_m5vWCLhVcPKlItsT62fMB_bk2YyHIs&callback=initMap"></script>
    <script src="js/ticker.js"></script>
    <script src="js/hebcal.js"></script>
    <script src="js/youtube-playlist.js"></script>

    <script>
      (() => {
        let currentIndex = 3; // Start at the first real video (after the duplicates)
        let isTransitioning = false;
        
        const getSlidesToMove = () => {
          if (window.innerWidth <= 768) return 1;
          if (window.innerWidth <= 1200) return 2;
          return 3;
        };

        window.moveSlide = (direction) => {
          if (isTransitioning) return;
          
          const slider = document.querySelector('.slider');
          const slides = document.querySelectorAll('.slider-item');
          const totalSlides = slides.length;
          const visibleSlides = getSlidesToMove();
          
          currentIndex += direction;
          
          // If we reach the duplicate section at the end
          if (currentIndex >= totalSlides - visibleSlides - 3) {
            isTransitioning = true;
            updateSlider();
            
            // After the transition, jump back to the real slides
            setTimeout(() => {
              slider.style.transition = 'none';
              currentIndex = 3; // Jump back to the first real slide
              updateSlider();
              
              setTimeout(() => {
                slider.style.transition = 'transform 0.5s ease';
                isTransitioning = false;
              }, 50);
            }, 500);
          }
          // If we reach the duplicate section at the start
          else if (currentIndex < 3) {
            isTransitioning = true;
            updateSlider();
            
            setTimeout(() => {
              slider.style.transition = 'none';
              currentIndex = totalSlides - visibleSlides - 3; // Jump to the last real slide
              updateSlider();
              
              setTimeout(() => {
                slider.style.transition = 'transform 0.5s ease';
                isTransitioning = false;
              }, 50);
            }, 500);
          }
          else {
            updateSlider();
          }
        };

        window.updateSlider = () => {
          const slider = document.querySelector('.slider');
          const slides = document.querySelectorAll('.slider-item');
          if (!slider || !slides.length) return;
          
          const slideWidth = slides[0].offsetWidth + 20; // Include gap
          slider.style.transform = `translateX(${-currentIndex * slideWidth}px)`;
        };

        // Auto-advance slides every 5 seconds
        let autoScrollInterval = setInterval(() => {
          moveSlide(1);
        }, 5000);

        // Pause auto-scroll when hovering over slider
        const sliderContainer = document.querySelector('.slider-container');
        if (sliderContainer) {
          sliderContainer.addEventListener('mouseenter', () => {
            clearInterval(autoScrollInterval);
          });
          
          sliderContainer.addEventListener('mouseleave', () => {
            autoScrollInterval = setInterval(() => {
              moveSlide(1);
            }, 5000);
          });
        }

        // Handle window resize
        window.addEventListener('resize', () => {
          currentIndex = 3; // Reset to first real slide
          updateSlider();
        });
      })();
    </script>
    
  </body>
</html>
