<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work & Savings Adventure - Jerusalem Hills Kids</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Learn the value of work, saving money, and delayed gratification through interactive scenarios and compound interest simulations.">
    <meta name="keywords" content="work ethic, saving money, delayed gratification, compound interest, financial education, kids money lessons">
    <meta name="robots" content="index, follow">
    
    <!-- Favicon -->
    <link rel="icon" href="../../img/favicon.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="../assets/css/game.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Sound Manager -->
    <script src="../assets/js/sound-manager.js"></script>
    
    <style>
        .work-savings-game {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .game-header {
            text-align: center;
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .scenario-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .scenario-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .scenario-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #FF9800;
        }
        
        .scenario-card.active {
            border-color: #FF9800;
            background: #fff8f3;
        }
        
        .scenario-icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .scenario-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .scenario-description {
            color: #666;
            text-align: center;
            line-height: 1.5;
        }
        
        .game-area {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            min-height: 400px;
            display: none;
        }
        
        .game-area.active {
            display: block;
        }
        
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #e0e0e0;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #FF9800;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        .choice-container {
            margin: 20px 0;
        }
        
        .choice-button {
            display: block;
            width: 100%;
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            font-size: 1rem;
            text-align: left;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }
        
        .choice-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
        }
        
        .choice-button.correct {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
        }
        
        .choice-button.incorrect {
            background: linear-gradient(135deg, #F44336 0%, #d32f2f 100%);
        }
        
        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            height: 100%;
            width: 0%;
            transition: width 1s ease;
        }
        
        .compound-calculator {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #e0e0e0;
        }
        
        .calculator-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        .input-group label {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        
        .input-group input, .input-group select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .calculate-btn {
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 152, 0, 0.4);
        }
        
        .result-display {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
            border: 2px solid #4CAF50;
        }
        
        .work-simulation {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .job-option {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .job-option:hover {
            border-color: #FF9800;
            background: #fff8f3;
        }
        
        .job-option.selected {
            border-color: #FF9800;
            background: #fff8f3;
        }
        
        .job-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .job-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .job-pay {
            color: #4CAF50;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .timeline {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }
        
        .timeline-step {
            text-align: center;
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            margin: 0 5px;
            transition: all 0.3s ease;
        }
        
        .timeline-step.active {
            background: #FF9800;
            color: white;
        }
        
        .timeline-step.completed {
            background: #4CAF50;
            color: white;
        }
        
        .lesson-panel {
            background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .lesson-content {
            font-size: 1rem;
            line-height: 1.6;
        }
        
        @media (max-width: 768px) {
            .work-savings-game {
                padding: 10px;
            }
            
            .scenario-selection {
                grid-template-columns: 1fr;
            }
            
            .stats-panel {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .calculator-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üíº Work & Savings Adventure</h1>
        <div class="game-nav">
            <a href="../index.html" class="nav-btn">Home</a>
            <a href="trade-history.html" class="nav-btn">Trade History</a>
            <a href="investment-portfolio.html" class="nav-btn">Portfolio</a>
        </div>
    </header>

    <div class="screen-time-reminder">
        <p>üïê Remember: Take breaks every 20 minutes and ask a grown-up for permission!</p>
    </div>

    <main class="work-savings-game">
        <div class="game-header">
            <h2>üéØ Learn the Value of Work & Saving</h2>
            <p>Discover how hard work, smart saving, and patience can help you reach your financial goals!</p>
        </div>

        <div class="scenario-selection">
            <div class="scenario-card" onclick="selectScenario('work-ethic')">
                <div class="scenario-icon">üí™</div>
                <div class="scenario-title">Work Ethic Challenge</div>
                <div class="scenario-description">Learn the value of hard work through job simulations and work choices</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('saving-habits')">
                <div class="scenario-icon">üê∑</div>
                <div class="scenario-title">Saving Habits Builder</div>
                <div class="scenario-description">Develop smart saving strategies and understand spending vs. saving decisions</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('delayed-gratification')">
                <div class="scenario-icon">‚è∞</div>
                <div class="scenario-title">Patience Pays Off</div>
                <div class="scenario-description">Learn how waiting and delayed gratification leads to bigger rewards</div>
            </div>
            
            <div class="scenario-card" onclick="selectScenario('compound-interest')">
                <div class="scenario-icon">üìà</div>
                <div class="scenario-title">Compound Magic</div>
                <div class="scenario-description">See how your money can grow over time with compound interest</div>
            </div>
        </div>

        <!-- Work Ethic Challenge -->
        <div id="work-ethic" class="game-area">
            <h3>üí™ Work Ethic Challenge</h3>
            <div class="stats-panel">
                <div class="stat-item">
                    <div class="stat-value" id="workMoney">$0</div>
                    <div class="stat-label">Money Earned</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="workHours">0</div>
                    <div class="stat-label">Hours Worked</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="workReputation">‚≠ê‚≠ê‚≠ê</div>
                    <div class="stat-label">Reputation</div>
                </div>
            </div>
            
            <div class="work-simulation">
                <div class="job-option" onclick="selectJob('chores', 5)">
                    <div class="job-icon">üßπ</div>
                    <div class="job-title">House Chores</div>
                    <div class="job-pay">$5/hour</div>
                </div>
                <div class="job-option" onclick="selectJob('lemonade', 8)">
                    <div class="job-icon">üçã</div>
                    <div class="job-title">Lemonade Stand</div>
                    <div class="job-pay">$8/hour</div>
                </div>
                <div class="job-option" onclick="selectJob('tutoring', 15)">
                    <div class="job-icon">üìö</div>
                    <div class="job-title">Tutoring Friends</div>
                    <div class="job-pay">$15/hour</div>
                </div>
                <div class="job-option" onclick="selectJob('tech', 25)">
                    <div class="job-icon">üíª</div>
                    <div class="job-title">Tech Help</div>
                    <div class="job-pay">$25/hour</div>
                </div>
            </div>
            
            <div class="choice-container" id="workChoices" style="display: none;">
                <h4>How will you approach your work?</h4>
                <button class="choice-button" onclick="makeWorkChoice('excellent')">
                    Do excellent work, even if it takes longer ‚≠ê‚≠ê‚≠ê
                </button>
                <button class="choice-button" onclick="makeWorkChoice('good')">
                    Do good work efficiently ‚≠ê‚≠ê
                </button>
                <button class="choice-button" onclick="makeWorkChoice('quick')">
                    Rush to finish quickly ‚≠ê
                </button>
            </div>
            
            <div class="lesson-panel">
                <h4>üí° Work Ethic Lessons</h4>
                <div class="lesson-content" id="workLesson">
                    Choose a job to start learning about work ethic and earning money!
                </div>
            </div>
        </div>

        <!-- Saving Habits Builder -->
        <div id="saving-habits" class="game-area">
            <h3>üê∑ Saving Habits Builder</h3>
            <div class="stats-panel">
                <div class="stat-item">
                    <div class="stat-value" id="totalEarned">$100</div>
                    <div class="stat-label">Money Available</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalSaved">$0</div>
                    <div class="stat-label">Money Saved</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="savingsRate">0%</div>
                    <div class="stat-label">Savings Rate</div>
                </div>
            </div>
            
            <div class="choice-container">
                <h4>You just earned $100! What will you do?</h4>
                <button class="choice-button" onclick="makeSavingChoice('save-all')">
                    Save all $100 for future goals üèÜ
                </button>
                <button class="choice-button" onclick="makeSavingChoice('save-half')">
                    Save $50, spend $50 on things I want ‚öñÔ∏è
                </button>
                <button class="choice-button" onclick="makeSavingChoice('save-little')">
                    Save $20, spend $80 on fun stuff üéÆ
                </button>
                <button class="choice-button" onclick="makeSavingChoice('spend-all')">
                    Spend it all right now! üí∏
                </button>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="savingsProgress"></div>
            </div>
            
            <div class="lesson-panel">
                <h4>üí° Saving Strategies</h4>
                <div class="lesson-content" id="savingLesson">
                    The "Pay Yourself First" rule suggests saving 20% of everything you earn before spending on anything else!
                </div>
            </div>
        </div>

        <!-- Delayed Gratification -->
        <div id="delayed-gratification" class="game-area">
            <h3>‚è∞ Patience Pays Off</h3>
            <div class="stats-panel">
                <div class="stat-item">
                    <div class="stat-value" id="currentReward">$10</div>
                    <div class="stat-label">Current Offer</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="futureReward">$20</div>
                    <div class="stat-label">Future Reward</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="waitTime">1 week</div>
                    <div class="stat-label">Wait Time</div>
                </div>
            </div>
            
            <div class="timeline">
                <div class="timeline-step active">Today</div>
                <div class="timeline-step">Wait...</div>
                <div class="timeline-step">Bigger Reward!</div>
            </div>
            
            <div class="choice-container">
                <h4>The Marshmallow Test: Digital Edition!</h4>
                <p>You can have $10 right now, OR wait 1 week and get $20. What do you choose?</p>
                <button class="choice-button" onclick="makeGratificationChoice('now')">
                    Take $10 right now! üí∏
                </button>
                <button class="choice-button" onclick="makeGratificationChoice('wait')">
                    Wait 1 week for $20! ‚è∞
                </button>
            </div>
            
            <div class="lesson-panel">
                <h4>üí° The Power of Patience</h4>
                <div class="lesson-content" id="gratificationLesson">
                    Studies show that people who can delay gratification tend to be more successful in life. Waiting often leads to better outcomes!
                </div>
            </div>
        </div>

        <!-- Compound Interest Calculator -->
        <div id="compound-interest" class="game-area">
            <h3>üìà Compound Magic Calculator</h3>
            <div class="compound-calculator">
                <h4>See How Your Money Grows!</h4>
                <div class="calculator-inputs">
                    <div class="input-group">
                        <label>Starting Amount</label>
                        <input type="number" id="principal" value="100" min="1" max="10000">
                    </div>
                    <div class="input-group">
                        <label>Monthly Savings</label>
                        <input type="number" id="monthly" value="10" min="0" max="500">
                    </div>
                    <div class="input-group">
                        <label>Interest Rate (per year)</label>
                        <select id="interestRate">
                            <option value="2">2% (Savings Account)</option>
                            <option value="5" selected>5% (Conservative Investment)</option>
                            <option value="8">8% (Stock Market Average)</option>
                            <option value="12">12% (High Growth)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Number of Years</label>
                        <select id="years">
                            <option value="1">1 Year</option>
                            <option value="5" selected>5 Years</option>
                            <option value="10">10 Years</option>
                            <option value="20">20 Years</option>
                        </select>
                    </div>
                </div>
                <button class="calculate-btn" onclick="calculateCompound()">Calculate Growth!</button>
                
                <div class="result-display" id="compoundResult" style="display: none;">
                    <h4>Your Money Will Grow To:</h4>
                    <div style="font-size: 2rem; font-weight: bold; color: #4CAF50; margin: 10px 0;" id="finalAmount"></div>
                    <div id="breakdown"></div>
                </div>
            </div>
            
            <div class="lesson-panel">
                <h4>üí° The Magic of Compound Interest</h4>
                <div class="lesson-content">
                    Albert Einstein called compound interest "the eighth wonder of the world." When you save money, you earn interest. Then you earn interest on your interest! The earlier you start saving, the more time your money has to grow.
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Jerusalem Hills Kids - Safe & Educational</p>
        <p><a href="../index.html">Back to Kids Zone</a></p>
    </footer>

    <script>
        class WorkSavingsGame {
            constructor() {
                this.gameState = {
                    workMoney: 0,
                    workHours: 0,
                    reputation: 3,
                    totalEarned: 100,
                    totalSaved: 0,
                    currentJob: null,
                    currentJobPay: 0
                };
                
                this.init();
            }
            
            init() {
                window.soundManager.play('chime');
                this.updateDisplays();
            }
            
            selectJob(jobType, hourlyPay) {
                document.querySelectorAll('.job-option').forEach(job => job.classList.remove('selected'));
                event.target.closest('.job-option').classList.add('selected');
                
                this.gameState.currentJob = jobType;
                this.gameState.currentJobPay = hourlyPay;
                
                document.getElementById('workChoices').style.display = 'block';
                window.soundManager.play('click');
                
                const jobLessons = {
                    'chores': 'House chores teach responsibility and help your family. Even simple work has value!',
                    'lemonade': 'Running a lemonade stand teaches entrepreneurship, customer service, and business basics.',
                    'tutoring': 'Tutoring helps others while reinforcing your own knowledge. Teaching is a valuable skill!',
                    'tech': 'Tech skills are in high demand. Learning technology can open many opportunities.'
                };
                
                document.getElementById('workLesson').textContent = jobLessons[jobType];
            }
            
            makeWorkChoice(quality) {
                const qualityMultipliers = {
                    'excellent': { pay: 1.2, rep: 1, hours: 2 },
                    'good': { pay: 1.0, rep: 0, hours: 1 },
                    'quick': { pay: 0.7, rep: -1, hours: 0.5 }
                };
                
                const multiplier = qualityMultipliers[quality];
                const earnings = this.gameState.currentJobPay * multiplier.pay * multiplier.hours;
                
                this.gameState.workMoney += earnings;
                this.gameState.workHours += multiplier.hours;
                this.gameState.reputation = Math.max(1, Math.min(5, this.gameState.reputation + multiplier.rep));
                
                // Visual feedback
                document.querySelectorAll('.choice-button').forEach(btn => btn.classList.remove('correct', 'incorrect'));
                if (quality === 'excellent') {
                    event.target.classList.add('correct');
                    window.soundManager.play('success');
                } else if (quality === 'quick') {
                    event.target.classList.add('incorrect');
                    window.soundManager.play('incorrect');
                } else {
                    window.soundManager.play('correct');
                }
                
                const lessons = {
                    'excellent': `Great choice! Doing excellent work earned you $${earnings.toFixed(2)} and improved your reputation. People will want to hire you again!`,
                    'good': `Good work! You earned $${earnings.toFixed(2)} efficiently. This is a balanced approach.`,
                    'quick': `Rushing decreased your earnings to $${earnings.toFixed(2)} and hurt your reputation. Quality matters!`
                };
                
                document.getElementById('workLesson').textContent = lessons[quality];
                this.updateDisplays();
                
                setTimeout(() => {
                    document.getElementById('workChoices').style.display = 'none';
                    document.querySelectorAll('.job-option').forEach(job => job.classList.remove('selected'));
                }, 3000);
            }
            
            makeSavingChoice(choice) {
                const choices = {
                    'save-all': { saved: 100, spent: 0, lesson: 'Excellent! Saving 100% shows incredible discipline. You\'ll reach big goals faster!' },
                    'save-half': { saved: 50, spent: 50, lesson: 'Great balance! Saving 50% while enjoying some spending is a smart approach.' },
                    'save-little': { saved: 20, spent: 80, lesson: 'You saved something, which is good, but saving more would help you reach goals faster.' },
                    'spend-all': { saved: 0, spent: 100, lesson: 'Spending everything means no progress toward future goals. Try saving some next time!' }
                };
                
                const result = choices[choice];
                this.gameState.totalSaved += result.saved;
                this.gameState.totalEarned = this.gameState.totalEarned - result.spent;
                
                // Visual feedback
                document.querySelectorAll('.choice-button').forEach(btn => btn.classList.remove('correct', 'incorrect'));
                if (choice === 'save-all' || choice === 'save-half') {
                    event.target.classList.add('correct');
                    window.soundManager.play('success');
                } else {
                    event.target.classList.add('incorrect');
                    window.soundManager.play('incorrect');
                }
                
                document.getElementById('savingLesson').textContent = result.lesson;
                this.updateDisplays();
            }
            
            makeGratificationChoice(choice) {
                if (choice === 'wait') {
                    document.getElementById('gratificationLesson').textContent = 
                        'Excellent choice! By waiting, you doubled your money from $10 to $20. This is the power of delayed gratification!';
                    window.soundManager.play('success');
                    event.target.classList.add('correct');
                    
                    // Animate timeline
                    setTimeout(() => {
                        document.querySelectorAll('.timeline-step')[1].classList.add('completed');
                    }, 1000);
                    setTimeout(() => {
                        document.querySelectorAll('.timeline-step')[2].classList.add('completed');
                    }, 2000);
                } else {
                    document.getElementById('gratificationLesson').textContent = 
                        'You got $10 now, but missed out on $20 later. Sometimes waiting leads to much better rewards!';
                    window.soundManager.play('incorrect');
                    event.target.classList.add('incorrect');
                }
            }
            
            calculateCompound() {
                const principal = parseFloat(document.getElementById('principal').value);
                const monthly = parseFloat(document.getElementById('monthly').value);
                const rate = parseFloat(document.getElementById('interestRate').value) / 100;
                const years = parseInt(document.getElementById('years').value);
                
                // Compound interest formula with monthly contributions
                const monthlyRate = rate / 12;
                const totalMonths = years * 12;
                
                // Future value of initial principal
                const principalGrowth = principal * Math.pow(1 + rate, years);
                
                // Future value of monthly contributions (annuity)
                const monthlyGrowth = monthly * (Math.pow(1 + monthlyRate, totalMonths) - 1) / monthlyRate;
                
                const finalAmount = principalGrowth + monthlyGrowth;
                const totalContributed = principal + (monthly * totalMonths);
                const interestEarned = finalAmount - totalContributed;
                
                document.getElementById('finalAmount').textContent = `$${finalAmount.toFixed(2)}`;
                document.getElementById('breakdown').innerHTML = `
                    <div style="margin: 10px 0;">
                        <div>üí∞ You contributed: $${totalContributed.toFixed(2)}</div>
                        <div style="color: #4CAF50;">üìà Interest earned: $${interestEarned.toFixed(2)}</div>
                        <div style="color: #FF9800;">üéØ Growth: ${((interestEarned / totalContributed) * 100).toFixed(1)}%</div>
                    </div>
                `;
                
                document.getElementById('compoundResult').style.display = 'block';
                window.soundManager.play('success');
                
                // Show different lessons based on the scenario
                if (interestEarned > totalContributed) {
                    document.querySelector('#compound-interest .lesson-content').textContent = 
                        `Wow! Your interest earned (${interestEarned.toFixed(2)}) is more than what you put in! This shows the incredible power of long-term saving and compound interest.`;
                } else {
                    document.querySelector('#compound-interest .lesson-content').textContent = 
                        `Great! Your money grew by $${interestEarned.toFixed(2)}. The longer you save and the higher the interest rate, the more dramatic the growth becomes!`;
                }
            }
            
            updateDisplays() {
                // Work ethic stats
                document.getElementById('workMoney').textContent = `$${this.gameState.workMoney.toFixed(2)}`;
                document.getElementById('workHours').textContent = this.gameState.workHours.toFixed(1);
                document.getElementById('workReputation').textContent = '‚≠ê'.repeat(this.gameState.reputation);
                
                // Saving stats
                document.getElementById('totalEarned').textContent = `$${this.gameState.totalEarned}`;
                document.getElementById('totalSaved').textContent = `$${this.gameState.totalSaved}`;
                
                const savingsRate = this.gameState.totalEarned > 0 ? 
                    (this.gameState.totalSaved / (this.gameState.totalSaved + this.gameState.totalEarned)) * 100 : 0;
                document.getElementById('savingsRate').textContent = `${savingsRate.toFixed(1)}%`;
                
                // Update progress bar
                const progressBar = document.getElementById('savingsProgress');
                if (progressBar) {
                    progressBar.style.width = `${Math.min(100, savingsRate)}%`;
                }
            }
        }
        
        // Global functions
        function selectScenario(scenario) {
            // Hide all game areas
            document.querySelectorAll('.game-area').forEach(area => {
                area.classList.remove('active');
            });
            
            // Show selected scenario
            document.getElementById(scenario).classList.add('active');
            
            // Update scenario cards
            document.querySelectorAll('.scenario-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.scenario-card').classList.add('active');
            
            window.soundManager.play('chime');
        }
        
        function selectJob(jobType, hourlyPay) {
            game.selectJob(jobType, hourlyPay);
        }
        
        function makeWorkChoice(quality) {
            game.makeWorkChoice(quality);
        }
        
        function makeSavingChoice(choice) {
            game.makeSavingChoice(choice);
        }
        
        function makeGratificationChoice(choice) {
            game.makeGratificationChoice(choice);
        }
        
        function calculateCompound() {
            game.calculateCompound();
        }
        
        // Initialize game
        let game;
        window.onload = () => {
            setTimeout(() => {
                game = new WorkSavingsGame();
            }, 100);
        };
    </script>
</body>
</html>