<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Quest - Free Addition Game for Kids | Jerusalem Hills Kids</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Practice addition with Math Quest! Fun, interactive math game for kids ages 5-12. Improve mental math skills while having fun. No ads, completely free.">
    <meta name="keywords" content="math game, addition game, kids math, learning math, educational game, arithmetic practice">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://jerusalemhills.com/kids/games/math.html">

    <!-- Open Graph -->
    <meta property="og:title" content="Math Quest - Free Addition Game for Kids">
    <meta property="og:description" content="Practice addition with Math Quest! Fun, interactive math game for kids ages 5-12.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jerusalemhills.com/kids/games/math.html">

    <!-- Favicon -->
    <link rel="icon" href="../../img/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="../assets/css/game.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Sound Manager -->
    <script src="../assets/js/sound-manager.js"></script>
    <!-- Enhanced Sound System -->
    <script src="../assets/js/enhanced-sound-system.js"></script>

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Game",
      "name": "Math Quest",
      "description": "Interactive addition game for children to practice mental math skills",
      "audience": {
        "@type": "PeopleAudience",
        "suggestedMinAge": 5,
        "suggestedMaxAge": 12
      },
      "educationalUse": "Mathematics practice",
      "educationalLevel": "Elementary",
      "isAccessibleForFree": true,
      "interactivityType": "active",
      "learningResourceType": "game"
    }
    </script>
</head>
<body>
    <header>
        <h1>üßÆ Math Quest</h1>
        <div class="game-nav">
            <a href="../index.html" class="nav-btn">Home</a>
            <a href="heritage-quiz.html" class="nav-btn">Heritage Quiz</a>
            <a href="memory.html" class="nav-btn">Memory Match</a>
        </div>
    </header>

    <div class="screen-time-reminder">
        <p>üïê Remember: Take breaks every 20 minutes and ask a grown-up for permission!</p>
    </div>

    <main>
        <div id="question">Press Start to Begin!</div>
        <input id="answer" type="number" placeholder="Your answer">
        <div>
            <button id="submit">Submit Answer</button>
            <button id="start">Start Game</button>
        </div>
        <div id="result"></div>
        <div id="score">Score: 0</div>
    </main>

    <footer>
        <p>&copy; 2025 Jerusalem Hills Kids - Safe & Educational</p>
        <p><a href="../index.html">Back to Kids Zone</a></p>
    </footer>

    <script>
        let num1, num2, answer, score = 0;
        let consecutiveCorrect = 0;
        let currentOperation = 'addition';
        let difficulty = 'easy';
        const q = document.getElementById('question');
        const a = document.getElementById('answer');
        const r = document.getElementById('result');
        const s = document.getElementById('score');

        function newQuestion() {
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            answer = num1 + num2;
            q.textContent = `What is ${num1} + ${num2}?`;
            a.value = "";
            r.textContent = "";
            a.focus();
        }

        document.getElementById('start').onclick = () => {
            soundManager.play('chime'); // Play start sound
            score = 0;
            s.textContent = `Score: ${score}`;
            newQuestion();
        };

        document.getElementById('submit').onclick = checkAnswer;

        // Allow Enter key to submit
        a.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkAnswer();
        });

        function checkAnswer() {
            if (q.textContent === "Press Start to Begin!") {
                r.textContent = "Click Start Game first!";
                return;
            }

            const userAnswer = parseInt(a.value);
            if (isNaN(userAnswer)) {
                r.textContent = "Please enter a number!";
                return;
            }

            if (userAnswer === answer) {
                score++;
                consecutiveCorrect++;
                
                // Enhanced sound feedback based on operation and difficulty
                if (typeof window.playMathSound !== 'undefined') {
                    window.playMathSound(currentOperation, true, difficulty);
                } else {
                    soundManager.play('correct'); // Fallback
                }
                
                // Special celebration for streaks
                if (consecutiveCorrect >= 5) {
                    setTimeout(() => {
                        if (typeof window.playAchievementSound !== 'undefined') {
                            window.playAchievementSound('math-master');
                        } else {
                            soundManager.celebrate();
                        }
                    }, 300);
                    r.textContent = `üéâ Amazing! ${consecutiveCorrect} in a row!`;
                } else if (consecutiveCorrect >= 3) {
                    setTimeout(() => {
                        if (typeof window.playAchievementSound !== 'undefined') {
                            window.playAchievementSound('perfect-score');
                        } else {
                            soundManager.play('achievement');
                        }
                    }, 200);
                    r.textContent = `‚ú® Great streak! ${consecutiveCorrect} correct!`;
                } else {
                    r.textContent = "‚úÖ Correct! Great job!";
                }
                
                // Milestone achievements
                if (score % 10 === 0 && score > 0) {
                    setTimeout(() => {
                        if (typeof window.playAchievementSound !== 'undefined') {
                            window.playAchievementSound('speed-demon');
                        }
                    }, 500);
                }
                
                r.style.color = "#4CAF50";
            } else {
                consecutiveCorrect = 0; // Reset streak
                
                // Enhanced incorrect sound
                if (typeof window.playMathSound !== 'undefined') {
                    window.playMathSound(currentOperation, false, difficulty);
                } else {
                    soundManager.play('incorrect'); // Fallback
                }
                
                r.textContent = `‚ùå Not quite! The answer is ${answer}`;
                r.style.color = "#ff6f61";
            }
            s.textContent = `Score: ${score}`;

            setTimeout(() => {
                // Play gentle transition sound for next question
                if (typeof window.soundManager !== 'undefined' && window.soundManager.educationalSounds) {
                    window.soundManager.educationalSounds.counting();
                } else {
                    soundManager.play('pop'); // Fallback
                }
                newQuestion();
            }, 1500);
        }
    </script>
</body>
</html>
