class EnhancedSoundSystem extends SoundManager{constructor(){super(),this.culturalSounds={},this.educationalSounds={},this.musicalSounds={},this.loadEnhancedSounds(),this.setupEducationalFeedback(),this.setupCulturalAmbience()}loadEnhancedSounds(){this.educationalSounds={counting:this.createCountingSound(),addition:this.createAdditionSound(),multiplication:this.createMultiplicationSound(),subtraction:this.createSubtractionSound(),division:this.createDivisionSound(),cardFlip:this.createCardFlipSound(),match:this.createMatchSound(),noMatch:this.createNoMatchSound(),letterSound:this.createLetterSound(),wordComplete:this.createWordCompleteSound(),hebrewSound:this.createHebrewSound(),streakBonus:this.createStreakSound(),perfectScore:this.createPerfectScoreSound(),timeBonus:this.createTimeBonusSound()},this.culturalSounds={westernWall:this.createWesternWallAmbience(),templeMount:this.createTempleMountAmbience(),oldCity:this.createOldCityAmbience(),shofar:this.createShofarSound(),bellChime:this.createBellChimeSound(),drummingCircle:this.createDrummingSound(),hebrewCelebration:this.createHebrewCelebrationSound(),culturalFestival:this.createCulturalFestivalSound(),achievementFanfare:this.createAchievementFanfareSound()},this.musicalSounds={doReMi:this.createDoReMiScale(),pentatonic:this.createPentatonicScale(),simpleRhythm:this.createSimpleRhythmPattern(),complexRhythm:this.createComplexRhythmPattern(),ascendingMelody:this.createAscendingMelody(),descendingMelody:this.createDescendingMelody()},console.log("ðŸŽµ Enhanced sound system loaded with educational and cultural sounds")}createSynthSound(e,t,a="sine",n=null){return()=>{if(this.enabled)try{const i=new(window.AudioContext||window.webkitAudioContext),o=i.createOscillator(),s=i.createGain();o.connect(s),s.connect(i.destination),o.frequency.value=e,o.type=a,n?(s.gain.setValueAtTime(0,i.currentTime),s.gain.linearRampToValueAtTime(n.attack,i.currentTime+.01),s.gain.exponentialRampToValueAtTime(n.sustain,i.currentTime+.1),s.gain.exponentialRampToValueAtTime(.01,i.currentTime+t)):(s.gain.setValueAtTime(.3,i.currentTime),s.gain.exponentialRampToValueAtTime(.01,i.currentTime+t)),o.start(i.currentTime),o.stop(i.currentTime+t)}catch(e){console.warn("Web Audio API not available, using fallback sound"),this.play("chime")}}}createCountingSound(){return()=>{[523,587,659,698,784].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.2,"sine")()},100*t)})}}createAdditionSound(){return this.createSynthSound(440,.3,"triangle",{attack:.5,sustain:.3})}createMultiplicationSound(){return()=>{[440,523,659].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.15,"square")()},80*t)})}}createSubtractionSound(){return this.createSynthSound(330,.4,"sawtooth",{attack:.3,sustain:.2})}createDivisionSound(){return()=>{[659,523,440,330].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.12,"triangle")()},60*t)})}}createCardFlipSound(){return this.createSynthSound(800,.1,"square")}createMatchSound(){return()=>{[523,659,784].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.2,"sine")()},50*t)})}}createNoMatchSound(){return this.createSynthSound(220,.3,"sawtooth")}createLetterSound(){return this.createSynthSound(494,.15,"triangle")}createWordCompleteSound(){return()=>{[523,587,659,784,880].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.2,"sine")()},100*t)})}}createHebrewSound(){return this.createSynthSound(466,.25,"triangle",{attack:.4,sustain:.3})}createStreakSound(){return()=>{[440,554,659,831].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.15,"sine")()},40*t)})}}createPerfectScoreSound(){return()=>{[523,659,784,1047,1319].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.3,"triangle")()},80*t)})}}createTimeBonusSound(){return()=>{[1047,1175,1319,1397,1568].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.1,"sine")()},30*t)})}}createWesternWallAmbience(){return()=>{this.createSynthSound(220,1,"sine",{attack:.1,sustain:.05})(),setTimeout(()=>{this.createSynthSound(165,.8,"triangle",{attack:.1,sustain:.03})()},200)}}createTempleMountAmbience(){return()=>{[330,370,415].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.6,"triangle",{attack:.2,sustain:.1})()},400*t)})}}createOldCityAmbience(){return()=>{[294,330,370].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.4,"sine",{attack:.3,sustain:.1})()},200*t)})}}createShofarSound(){return()=>{this.createSynthSound(175,1.2,"sawtooth",{attack:.6,sustain:.2})()}}createBellChimeSound(){return()=>{[523,659,784].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,1,"sine",{attack:.1,sustain:.05})()},300*t)})}}createDrummingSound(){return()=>{[150,200,150,200].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.1,"square")()},150*t)})}}createHebrewCelebrationSound(){return()=>{[523,587,659,698,784,880,988].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.2,"triangle")()},70*t)})}}createCulturalFestivalSound(){return()=>{[440,523,659,523,440].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.25,"sine")()},120*t)})}}createAchievementFanfareSound(){return()=>{[523,659,784,1047].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.4,"triangle",{attack:.2,sustain:.3})()},100*t)})}}createDoReMiScale(){return()=>{[523,587,659,698,784,880,988,1047].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.3,"sine")()},200*t)})}}createPentatonicScale(){return()=>{[523,587,659,784,880].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.25,"triangle")()},180*t)})}}createSimpleRhythmPattern(){return()=>{[220,0,220,0,220,220,0,220].forEach((e,t)=>{setTimeout(()=>{e>0&&this.createSynthSound(e,.1,"square")()},120*t)})}}createComplexRhythmPattern(){return()=>{[330,0,440,330,0,330,440,0].forEach((e,t)=>{setTimeout(()=>{e>0&&this.createSynthSound(e,.08,"triangle")()},100*t)})}}createAscendingMelody(){return()=>{[440,494,523,587,659].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.4,"sine")()},150*t)})}}createDescendingMelody(){return()=>{[659,587,523,494,440].forEach((e,t)=>{setTimeout(()=>{this.createSynthSound(e,.4,"triangle")()},150*t)})}}setupEducationalFeedback(){this.mathFeedback={correct:e=>{switch(e){case"easy":this.educationalSounds.addition();break;case"medium":this.educationalSounds.multiplication(),setTimeout(()=>this.play("chime"),200);break;case"hard":this.educationalSounds.perfectScore()}},streak:e=>{e>=5?this.educationalSounds.streakBonus():e>=3&&this.educationalSounds.match()},levelComplete:()=>{this.educationalSounds.perfectScore(),setTimeout(()=>this.culturalSounds.achievementFanfare(),500)}},this.memoryFeedback={cardFlip:()=>this.educationalSounds.cardFlip(),match:()=>this.educationalSounds.match(),noMatch:()=>this.educationalSounds.noMatch(),gameComplete:()=>{this.educationalSounds.wordComplete(),setTimeout(()=>this.culturalSounds.hebrewCelebration(),300)}},this.languageFeedback={letterClick:()=>this.educationalSounds.letterSound(),wordComplete:()=>this.educationalSounds.wordComplete(),hebrewWord:()=>this.educationalSounds.hebrewSound(),sentenceComplete:()=>{this.educationalSounds.wordComplete(),setTimeout(()=>this.culturalSounds.culturalFestival(),200)}}}setupCulturalAmbience(){this.culturalAmbience={westernWall:()=>{this.culturalSounds.westernWall(),this.enabled&&setTimeout(()=>this.culturalAmbience.westernWall(),1e4)},templeMount:()=>{this.culturalSounds.templeMount(),this.enabled&&setTimeout(()=>this.culturalAmbience.templeMount(),12e3)},oldCity:()=>{this.culturalSounds.oldCity(),this.enabled&&setTimeout(()=>this.culturalAmbience.oldCity(),8e3)}}}playMathSound(e,t,a="normal"){if(this.enabled)if(t){switch(e){case"addition":this.educationalSounds.addition();break;case"subtraction":this.educationalSounds.subtraction();break;case"multiplication":this.educationalSounds.multiplication();break;case"division":this.educationalSounds.division();break;default:this.educationalSounds.counting()}"hard"===a&&setTimeout(()=>this.play("achievement"),300)}else this.play("incorrect")}playMemorySound(e,t={}){if(this.enabled)switch(e){case"flip":this.memoryFeedback.cardFlip();break;case"match":this.memoryFeedback.match(),t.isJerusalemThemed&&setTimeout(()=>this.culturalSounds.bellChime(),200);break;case"nomatch":this.memoryFeedback.noMatch();break;case"complete":this.memoryFeedback.gameComplete()}}playLanguageSound(e,t="english"){if(this.enabled)switch(e){case"letter":"hebrew"===t?this.languageFeedback.hebrewWord():this.languageFeedback.letterClick();break;case"word":this.languageFeedback.wordComplete();break;case"sentence":this.languageFeedback.sentenceComplete()}}playCulturalSound(e){if(this.enabled)switch(e){case"western-wall":this.culturalSounds.westernWall();break;case"temple-mount":this.culturalSounds.templeMount();break;case"old-city":this.culturalSounds.oldCity();break;case"celebration":this.culturalSounds.hebrewCelebration();break;case"shofar":this.culturalSounds.shofar()}}startAmbientSounds(e="old-city"){this.enabled&&(this.stopAmbientSounds(),this.currentAmbient=e,this.culturalAmbience[e]())}stopAmbientSounds(){this.currentAmbient=null}playAchievementSound(e){if(this.enabled)switch(e){case"first-game":this.culturalSounds.bellChime();break;case"perfect-score":this.educationalSounds.perfectScore();break;case"speed-demon":this.educationalSounds.timeBonus();break;case"math-master":this.educationalSounds.perfectScore(),setTimeout(()=>this.culturalSounds.achievementFanfare(),400);break;case"memory-champion":this.memoryFeedback.gameComplete();break;case"hebrew-scholar":this.languageFeedback.sentenceComplete(),setTimeout(()=>this.culturalSounds.shofar(),600);break;default:this.culturalSounds.achievementFanfare()}}playMusicalLesson(e){if(this.enabled)switch(e){case"scales":this.musicalSounds.doReMi();break;case"rhythm":this.musicalSounds.simpleRhythm();break;case"melody-up":this.musicalSounds.ascendingMelody();break;case"melody-down":this.musicalSounds.descendingMelody()}}}"undefined"!=typeof window&&(window.soundManager=new EnhancedSoundSystem,window.playMathSound=(e,t,a)=>window.soundManager.playMathSound(e,t,a),window.playMemorySound=(e,t)=>window.soundManager.playMemorySound(e,t),window.playLanguageSound=(e,t)=>window.soundManager.playLanguageSound(e,t),window.playCulturalSound=e=>window.soundManager.playCulturalSound(e),window.playAchievementSound=e=>window.soundManager.playAchievementSound(e),console.log("ðŸŽµ Enhanced Sound System ready for Kids Zone!")),"undefined"!=typeof module&&module.exports&&(module.exports=EnhancedSoundSystem);