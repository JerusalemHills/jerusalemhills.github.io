class SoundManager{constructor(){this.sounds={},this.enabled=this.getSoundPreference(),this.volume=.3,this.init()}init(){this.loadSounds(),this.createSoundControls(),console.log("ðŸ”Š Sound Manager initialized!",this.enabled?"Sounds ON":"Sounds OFF")}loadSounds(){const e={click:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmQxAiNABCQ=",hover:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmQdKBCQ=",success:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmSgAiNA=",achievement:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmHGH+PA=",levelUp:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmRSjIp=",coin:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmHHH+",correct:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmOhAiND=",incorrect:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmQbAiNA=",pop:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmDABCQ=",swoosh:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmLKBCQ=",chime:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmTRAiNA="};Object.keys(e).forEach(n=>{try{this.sounds[n]=new Audio(e[n]),this.sounds[n].volume=this.volume,this.sounds[n].preload="auto"}catch(e){console.warn(`Could not load sound: ${n}`,e)}})}createSoundControls(){const e=document.createElement("div");e.className="sound-toggle",e.innerHTML=`\n            <button class="sound-btn" id="soundToggleBtn" title="Toggle Sounds">\n                <span class="sound-icon">${this.enabled?"ðŸ”Š":"ðŸ”‡"}</span>\n            </button>\n        `;const n=document.createElement("style");n.textContent="\n            .sound-toggle {\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 10000;\n                background: rgba(255, 255, 255, 0.9);\n                border-radius: 50%;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n                backdrop-filter: blur(10px);\n            }\n\n            .sound-btn {\n                background: none;\n                border: none;\n                padding: 12px;\n                cursor: pointer;\n                border-radius: 50%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                transition: all 0.3s;\n                font-size: 20px;\n            }\n\n            .sound-btn:hover {\n                background: rgba(255, 215, 0, 0.2);\n                transform: scale(1.1);\n            }\n\n            .sound-icon {\n                display: block;\n                width: 24px;\n                height: 24px;\n                text-align: center;\n            }\n\n            @media (max-width: 768px) {\n                .sound-toggle {\n                    top: 10px;\n                    right: 10px;\n                }\n                \n                .sound-btn {\n                    padding: 10px;\n                    font-size: 18px;\n                }\n            }\n        ",document.head.appendChild(n),document.body.appendChild(e),document.getElementById("soundToggleBtn").addEventListener("click",()=>{this.toggle()})}play(e,n={}){if(!this.enabled)return;const o=this.sounds[e];if(o)try{o.currentTime=0,void 0!==n.volume?o.volume=Math.min(1,Math.max(0,n.volume)):o.volume=this.volume;const A=o.play();void 0!==A&&A.catch(n=>{console.log("Sound autoplay prevented:",e)})}catch(n){console.warn(`Error playing sound ${e}:`,n)}else console.warn(`Sound not found: ${e}`)}toggle(){this.enabled=!this.enabled,this.saveSoundPreference(),this.updateSoundIcon(),this.enabled&&setTimeout(()=>this.play("chime"),100)}setVolume(e){this.volume=Math.min(1,Math.max(0,e)),Object.values(this.sounds).forEach(e=>{e.volume=this.volume})}updateSoundIcon(){const e=document.querySelector(".sound-icon");e&&(e.textContent=this.enabled?"ðŸ”Š":"ðŸ”‡")}getSoundPreference(){try{return"false"!==localStorage.getItem("jerusalemhills-sounds-enabled")}catch(e){return!0}}saveSoundPreference(){try{localStorage.setItem("jerusalemhills-sounds-enabled",this.enabled.toString())}catch(e){console.warn("Could not save sound preference:",e)}}playUISound(e){this.play({click:"click",hover:"hover",success:"success",error:"incorrect"}[e]||"click")}playGameSound(e){this.play({correct:"correct",incorrect:"incorrect",coin:"coin",achievement:"achievement",levelUp:"levelUp"}[e]||"pop")}playSequence(e,n=200){this.enabled&&e.forEach((e,o)=>{setTimeout(()=>{this.play(e)},o*n)})}celebrate(){this.playSequence(["chime","success","achievement"],150)}attachSoundEffects(){document.querySelectorAll("button, .btn, .game-card, .curriculum-cell").forEach(e=>{e.addEventListener("mouseenter",()=>{this.play("hover",{volume:.2})}),e.addEventListener("click",()=>{this.play("click",{volume:.3})})}),document.querySelectorAll("a.nav-button, .header-nav-link").forEach(e=>{e.addEventListener("mouseenter",()=>{this.play("hover",{volume:.2})}),e.addEventListener("click",()=>{this.play("pop",{volume:.3})})}),document.querySelectorAll(".kids-zone-link").forEach(e=>{e.addEventListener("mouseenter",()=>{this.play("chime",{volume:.3})})})}createEducationalFeedback(e,n="normal"){if(e){const e={easy:.4,normal:.5,hard:.6};this.play("correct",{volume:e[n]||.5}),"hard"===n&&setTimeout(()=>this.play("achievement",{volume:.4}),300)}else this.play("incorrect",{volume:.3})}createProgressFeedback(e){e>=100?this.celebrate():e>=75?this.play("chime"):e>=50?this.play("success"):e>=25&&this.play("pop")}}window.soundManager=new SoundManager,document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{window.soundManager.attachSoundEffects()},500)}),"undefined"!=typeof module&&module.exports&&(module.exports=SoundManager);