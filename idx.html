<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Ticker</title>
    <style>
        #news-ticker {
            overflow: hidden;
            white-space: nowrap;
            padding: 10px;
            background: #f0f0f0;
            font-size: 14px;
        }

        .ticker-content {
            display: inline-block;
            padding-right: 100%; /* Push content off-screen to start */
            animation: ticker 20s linear infinite;
        }

        .ticker-content a {
            color: #333;
            text-decoration: none;
            margin: 0 5px;
        }

        .ticker-content a:hover {
            color: #000;
            text-decoration: underline;
        }

        @keyframes ticker {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-100%); }
        }
    </style>
</head>
<body>
    <div id="news-ticker">
        <div class="ticker-content"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/feednami@1.2.4/dist/feednami.min.js"></script>
    <script>
        const feedUrls = [
            "https://www.jpost.com/rss/rssfeedsjerusalem.aspx",
            "https://www.jpost.com/rss/rssfeedsheadlines.aspx",
            "https://www.jpost.com/rss/rssfeedsinternational",
            "https://www.jpost.com/rss/rssfeedschristiannews"
        ];

        function fetchFeeds() {
            const promises = feedUrls.map(url => Feednami.load(url));
            Promise.all(promises).then(feeds => {
                let allItems = [];
                feeds.forEach(feed => allItems.push(...feed.entries));
                
                // Sort by date if you want the latest news first
                allItems.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));

                // Add titles to the ticker
                const tickerContent = document.querySelector('.ticker-content');
                tickerContent.innerHTML = allItems.map(item => `<a href="${item.link}" target="_blank">${item.title}</a>`).join(' | ');
            }).catch(error => console.error("Failed to load feeds:", error));
        }

        // Start fetching feeds when the window loads
        window.onload = fetchFeeds;
    </script>
</body>
</html>